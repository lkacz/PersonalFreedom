<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="64" height="64">
  <!-- EXCEPTIONAL Self-Drawing Map - Arcane purple magic map variant -->
  <defs>
    <linearGradient id="arcaneParchment" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#E1BEE7"/>
      <stop offset="50%" style="stop-color:#CE93D8"/>
      <stop offset="100%" style="stop-color:#BA68C8"/>
    </linearGradient>
    <linearGradient id="magicInk" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7B1FA2"/>
      <stop offset="100%" style="stop-color:#4A148C"/>
    </linearGradient>
    <filter id="arcaneDraw">
      <feGaussianBlur stdDeviation="1.5" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Arcane glow -->
  <rect x="4" y="6" width="56" height="52" rx="4" fill="#9C27B0" opacity="0.12" filter="url(#arcaneDraw)"/>
  
  <!-- Shadow -->
  <rect x="10" y="56" width="48" height="4" rx="2" fill="#00000015"/>
  
  <!-- Map paper (purple magical) -->
  <path d="M8 10 Q10 6, 16 8 L48 8 Q54 6, 56 10 L56 52 Q54 56, 48 54 L16 54 Q10 56, 8 52 Z" 
        fill="url(#arcaneParchment)" stroke="#7B1FA2" stroke-width="1"/>
  
  <!-- Arcane edge runes - fading mystically -->
  <text x="12" y="16" fill="#4A148C" font-size="4" opacity="0.4">
    <animate attributeName="opacity" values="0.4;0.8;0.4;0.2;0.4" dur="3s" repeatCount="indefinite"/>
    ✧
  </text>
  <text x="48" y="16" fill="#4A148C" font-size="4" opacity="0.4">
    <animate attributeName="opacity" values="0.2;0.4;0.8;0.4;0.2" dur="3s" repeatCount="indefinite"/>
    ✧
  </text>
  <text x="12" y="50" fill="#4A148C" font-size="4" opacity="0.4">
    <animate attributeName="opacity" values="0.4;0.2;0.4;0.8;0.4" dur="3s" repeatCount="indefinite"/>
    ✧
  </text>
  <text x="48" y="50" fill="#4A148C" font-size="4" opacity="0.4">
    <animate attributeName="opacity" values="0.8;0.4;0.2;0.4;0.8" dur="3s" repeatCount="indefinite"/>
    ✧
  </text>
  
  <!-- Drawn map content (mountains, paths - purple ink) -->
  <g stroke="url(#magicInk)" stroke-width="0.8" fill="none" opacity="0.7" filter="url(#arcaneDraw)">
    <!-- Mountains already drawn -->
    <path d="M14 28 L18 20 L22 28 L26 18 L30 28"/>
    <path d="M38 22 L42 14 L46 22"/>
    
    <!-- Magic river (glowing purple) -->
    <path d="M12 38 Q20 42, 28 36 Q36 30, 44 34 Q50 38, 52 44" stroke-width="1.5" stroke="#E040FB"/>
    
    <!-- Roads/paths -->
    <path d="M16 48 Q24 44, 32 46 Q40 48, 48 44" stroke-dasharray="2,1"/>
  </g>
  
  <!-- Magical quill (floating, drawing) -->
  <path d="M44 26 L52 18 L54 22 L46 30" fill="#FFD700" filter="url(#arcaneDraw)"/>
  <path d="M52 18 L56 12" stroke="#7B1FA2" stroke-width="1"/>
  
  <!-- Magic sparkles from quill - pulsing with arcane energy -->
  <circle cx="48" cy="24" r="1" fill="#E040FB" filter="url(#arcaneDraw)">
    <animate attributeName="r" values="1;1.5;1;0.8;1" dur="1s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="1;0.6;1;0.8;1" dur="1s" repeatCount="indefinite"/>
  </circle>
  <circle cx="50" cy="28" r="0.8" fill="#E040FB" opacity="0.7">
    <animate attributeName="opacity" values="0.7;1;0.7;0.4;0.7" dur="1.2s" repeatCount="indefinite"/>
  </circle>
  <circle cx="46" cy="22" r="0.6" fill="white" opacity="0.6">
    <animate attributeName="opacity" values="0.6;1;0.6;0.3;0.6" dur="0.8s" repeatCount="indefinite"/>
  </circle>
  
  <!-- Currently drawing line (animated feel) -->
  <path d="M32 40 Q38 38, 42 42" stroke="#E040FB" stroke-width="1" fill="none" stroke-dasharray="2,2"/>
  
  <!-- Floating particles - drifting with arcane magic -->
  <circle cx="6" cy="18" r="1.5" fill="#E1BEE7" opacity="0.5">
    <animate attributeName="cy" values="18;14;18;22;18" dur="4s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.5;0.8;0.5;0.3;0.5" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle cx="58" cy="12" r="1" fill="#CE93D8" opacity="0.4">
    <animate attributeName="cy" values="12;8;12;16;12" dur="3.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.4;0.7;0.4;0.2;0.4" dur="3.5s" repeatCount="indefinite"/>
  </circle>
  <circle cx="4" cy="46" r="1" fill="#E040FB" opacity="0.3">
    <animate attributeName="cy" values="46;42;46;50;46" dur="4.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.3;0.6;0.3;0.2;0.3" dur="4.5s" repeatCount="indefinite"/>
  </circle>
  
  <!-- Sparkles -->
  <circle cx="20" cy="12" r="1.5" fill="white" opacity="0.9"/>
  <circle cx="52" cy="36" r="1" fill="white" opacity="0.8"/>
  <circle cx="18" y="42" r="1.2" fill="#E040FB" opacity="0.7"/>
</svg>
