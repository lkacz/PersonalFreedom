<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 180 220" width="180" height="220">
  <defs>
    <!-- Elegant Mug Gradient: White Porcelain with subtle shading -->
    <linearGradient id="l_mug_body" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#f0f0f0"/>
      <stop offset="20%" stop-color="#ffffff"/>
      <stop offset="85%" stop-color="#e0e0e0"/>
      <stop offset="100%" stop-color="#d0d0d0"/>
    </linearGradient>

    <!-- Gold Accent Gradient -->
    <linearGradient id="l_gold" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#ffd700"/>
      <stop offset="40%" stop-color="#ffec8b"/>
      <stop offset="60%" stop-color="#b8860b"/>
      <stop offset="100%" stop-color="#ffd700"/>
    </linearGradient>

    <!-- Lava Liquid Gradient -->
    <radialGradient id="l_lava" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#ffffcc" stop-opacity="1"/>     <!-- Hot center -->
      <stop offset="30%" stop-color="#ffcc00"/>
      <stop offset="70%" stop-color="#ff4500"/>
      <stop offset="100%" stop-color="#8b0000"/>    <!-- Cooler dark rim -->
    </radialGradient>

    <!-- Table Top: Polished Mahogany -->
    <linearGradient id="l_table_top" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#5c3a21"/>
      <stop offset="50%" stop-color="#7a4e2b"/>
      <stop offset="100%" stop-color="#4a2e1a"/>
    </linearGradient>

    <!-- Glow for Legendary Status -->
    <radialGradient id="l_magic_glow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#ffd700" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#ffd700" stop-opacity="0"/>
    </radialGradient>
    
    <filter id="l_blur" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="1.5"/>
    </filter>
  </defs>

  <!-- Legendary Weapon: The "Molten Chalice" -->
  <g id="weapon_legendary" transform="translate(8 23) scale(1.08 1.08)">
    
    <!-- Table: Elegant Pedestal Table -->
    <!-- Floor Shadow -->
    <ellipse cx="118" cy="178" rx="20" ry="3" fill="#000000" opacity="0.2"/>
    
    <!-- Table Leg (Pedestal) -->
    <path d="M118 158 Q 112 165 110 175 L 126 175 Q 124 165 118 158" fill="#3e2716"/>
    <!-- Table Base Footing -->
    <path d="M108 175 C 105 178, 131 178, 128 175" fill="#5c3a21"/>

    <!-- Table Top Surface (Perspective Ellipse) -->
    <ellipse cx="118" cy="158" rx="24" ry="6" fill="#2a1a0f"/> <!-- Underside/Rim dark -->
    <ellipse cx="118" cy="156" rx="24" ry="6" fill="url(#l_table_top)" stroke="#3e2716" stroke-width="0.5"/>
    
    <!-- Table Gold Inlay -->
    <ellipse cx="118" cy="156" rx="21" ry="5" fill="none" stroke="url(#l_gold)" stroke-width="0.5" opacity="0.6"/>


    <!-- The Equipment: Elegant Porcelain Cup & Saucer -->
    
    <!-- Saucer -->
    <ellipse cx="118" cy="154" rx="14" ry="3" fill="#ffffff" stroke="#d0d0d0" stroke-width="0.5"/>
    <ellipse cx="118" cy="154" rx="9" ry="1.5" fill="#f0f0f0"/>

    <!-- Handle -->
    <path d="M129 140 C 135 140, 135 148, 129 149" fill="none" stroke="url(#l_gold)" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M129 140 C 135 140, 135 148, 129 149" fill="none" stroke="#ffffff" stroke-width="1.0" stroke-linecap="round"/>

    <!-- Cup Body -->
    <path d="M107 136 
             L 109 148 
             Q 109 153 118 153 
             Q 127 153 127 148 
             L 129 136 Z" 
          fill="url(#l_mug_body)"/>
    
    <!-- Gold Rim & Base Accent -->
    <path d="M107 136 L 109 148 Q 109 153 118 153 Q 127 153 127 148 L 129 136" fill="none" stroke="url(#l_gold)" stroke-width="0.5" opacity="0.8"/>
    <ellipse cx="118" cy="136" rx="11" ry="2.5" fill="none" stroke="url(#l_gold)" stroke-width="0.8"/>

    <!-- Lava Surface -->
    <ellipse cx="118" cy="137" rx="10" ry="2.2" fill="url(#l_lava)"/>
    
    <!-- Heat/Glow reflecting on the rim -->
    <ellipse cx="118" cy="137" rx="10" ry="2.2" fill="none" stroke="#ffaa00" stroke-width="0.5" opacity="0.4"/>

    <!-- Decorative Pattern on Cup (Subtle) -->
    <path d="M110 144 Q 118 147 126 144" fill="none" stroke="url(#l_gold)" stroke-width="0.5" opacity="0.7"/>

    <!-- Improved Steam/Smoke Animation (Magma Heat) -->
    <g id="steam_group" transform="translate(118, 132)" opacity="0.8">
      <path d="M-4 0 Q -8 -6 0 -15 T 2 -28" fill="none" stroke="#ffaa00" stroke-width="1.0" opacity="0" stroke-linecap="round">
        <animate attributeName="d" values="M-4 0 Q -8 -6 0 -15 T 2 -28; M-4 0 Q 0 -6 -4 -15 T 0 -28" dur="4.2s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0; 0.4; 0" dur="4.2s" repeatCount="indefinite" begin="0s"/>
        <animateTransform attributeName="transform" type="translate" values="0 0; 0 -6" dur="4.2s" repeatCount="indefinite"/>
      </path>
      
      <path d="M2 0 Q 6 -5 0 -12 T -2 -25" fill="none" stroke="#ff5500" stroke-width="0.8" opacity="0" stroke-linecap="round">
        <animate attributeName="d" values="M2 0 Q 6 -5 0 -12 T -2 -25; M2 0 Q -2 -5 4 -12 T 2 -25" dur="5s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0; 0.3; 0" dur="5s" repeatCount="indefinite" begin="2s"/>
        <animateTransform attributeName="transform" type="translate" values="0 0; 0 -10" dur="5s" repeatCount="indefinite"/>
      </path>
    </g>

    <!-- Bubbles popping in the lava (Subtle) -->
    <circle cx="116" cy="137" r="0.8" fill="#ffffcc" opacity="0">
        <animate attributeName="opacity" values="0;1;0" dur="3s" begin="0.2s" repeatCount="indefinite"/>
        <animate attributeName="r" values="0;1.2;0" dur="3s" begin="0.2s" repeatCount="indefinite"/>
    </circle>
    
    <!-- Legendary Sparkle Effects (Golden/Fire) -->
    <g>
       <circle cx="110" cy="130" r="0.8" fill="#fff" opacity="0">
         <animate attributeName="opacity" values="0; 1; 0" dur="2.1s" begin="0.5s" repeatCount="indefinite"/>
         <animate attributeName="r" values="0; 1.5; 0" dur="2.1s" begin="0.5s" repeatCount="indefinite"/>
       </circle>
       <circle cx="126" cy="125" r="0.5" fill="#ffd700" opacity="0">
         <animate attributeName="opacity" values="0; 0.9; 0" dur="3s" begin="1.5s" repeatCount="indefinite"/>
         <animate attributeName="r" values="0; 1.2; 0" dur="3s" begin="1.5s" repeatCount="indefinite"/>
       </circle>
    </g>

    <!-- Subtle Glow Behind -->
    <ellipse cx="118" cy="145" rx="15" ry="20" fill="url(#l_magic_glow)" opacity="0.3" filter="url(#l_blur)">
       <animate attributeName="opacity" values="0.2; 0.5; 0.2" dur="4.5s" repeatCount="indefinite"/>
    </ellipse>

  </g>
</svg>
